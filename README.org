# -*- org-export-babel-evaluate: nil -*-
#+title: pulpissimo installation guide

Note: the following instructions are adapted from this [[https://singularitykchen.github.io/blog/2020/12/20/Tutorial-Configure-and-Run-Pulpissimo/][blog]] and my experience with the installation

* system status
os: Ubuntu 20.04.6 LTS

gcc: 9.4.0 (Ubuntu 9.4.0-1ubuntu1~20.04.1)

questa sim: Questa Intel starter FPGA Edition-64 2021.2

* pulp risc-v toolchain
#+url: https://github.com/pulp-platform/pulp-riscv-gnu-toolchain/

#+begin_src sh
git clone --recursive https://github.com/pulp-platform/pulp-riscv-gnu-toolchain
#+end_src

or, download latest releases from: https://github.com/pulp-platform/pulp-riscv-gnu-toolchain/releases/

*requirements*:
#+begin_src sh
sudo apt-get install autoconf automake autotools-dev curl libmpc-dev libmpfr-dev libgmp-dev gawk build-essential bison flex texinfo gperf libtool patchutils bc zlib1g-dev

# change owner of /opt/riscv to from root to user to avoid further complications
sudo mkdir /opt/riscv
sudo chown -R $USER:$USER /opt/riscv
#+end_src

install _newlib cross-compiler for all pulp variants_
#+begin_src sh
cd pulp-riscv-gnu-toolchain
# config
./configure --prefix=/opt/riscv --with-arch=rv32imc --with-cmodel=medlow --enable-multilib
# make
make

# add path
export RISCV=/opt/riscv
export PULP_RISCV_GCC_TOOLCHAIN=$RISCV
export PATH=$PATH:$RISCV/bin
#+end_src

* pulpissimo
:PROPERTIES:
:CUSTOM_ID: 21Jun2023-144552572__pulpissimo
:END:
#+url: https://github.com/pulp-platform/pulpissimo

#+begin_src sh
git clone https://github.com/pulp-platform/pulpissimo.git
#+end_src

or download from latest release: https://github.com/pulp-platform/pulpissimo/releases

I have used the released version: v7.0.0
#+begin_src sh
wget https://github.com/pulp-platform/pulpissimo/archive/refs/tags/v7.0.0.tar.gz
mkdir pulpissimo
tar -xvzf v7.0.0.tar.gz -C pulpissimo --strip-components 1
#+end_src


#+begin_src sh
# export VSIM_PATH=<pulpissimo root folder>/sim
export VSIM_PATH=$HOME/pulpissimo/sim
#+end_src

*requirements*
#+begin_src sh
pip3 install --user artifactory twisted prettytable sqlalchemy pyelftools 'openpyxl==2.6.4' xlsxwriter pyyaml numpy configparser pyvcd sphinx
#+end_src

